CREATE SCHEMA PUBLIC AUTHORIZATION DBA
CREATE MEMORY TABLE DEVICE_TRACKS(ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,ALBUM VARCHAR(255) NOT NULL,ARTIST VARCHAR(255) NOT NULL,DEVICE_ID VARCHAR(45) NOT NULL,FILENAME VARCHAR(255) NOT NULL,LAST_READ TIMESTAMP NOT NULL,LENGTH NUMERIC NOT NULL,PERSISTENT_ID VARCHAR(45) NOT NULL,PLAY_COUNT BIGINT NOT NULL,TITLE VARCHAR(255) NOT NULL,ZEN_ID VARCHAR(15) NOT NULL,CONSTRAINT PID_DID_UQ UNIQUE(PERSISTENT_ID,DEVICE_ID))
CREATE MEMORY TABLE LASTFM_SUBMISSIONS(ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,DATE_SUBMITTED TIMESTAMP NOT NULL,TRACK_ID INTEGER NOT NULL,CONSTRAINT FK_DT_ID FOREIGN KEY(TRACK_ID) REFERENCES DEVICE_TRACKS(ID))
ALTER TABLE DEVICE_TRACKS ALTER COLUMN ID RESTART WITH 29
ALTER TABLE LASTFM_SUBMISSIONS ALTER COLUMN ID RESTART WITH 17
CREATE USER SA PASSWORD ""
GRANT DBA TO SA
SET WRITE_DELAY 10
